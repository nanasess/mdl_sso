<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>login</title>
    </head>
    <body>
        <p id="login_dummy">DUMMY でログイン</p>
    </body>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(function () {
            // see https://stackoverflow.com/a/9666477
            var win;
            var checkConnect;
            var $connect = $('#login_dummy');
            var url = '/sso/DUMMY/redirect?code=authorizatio_code';
            $connect.on('click', function () {
                win = window.open(url, 'dummy_authentication', 'width=972,height=660,modal=yes,alwaysRaised=yes');
            });
            checkConnect = setInterval(function () {
                if (!win || !win.closed) return;
                clearInterval(checkConnect);
                window.location.reload();
            }, 100);
        });
    </script>
</html>
